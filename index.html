<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>I Love You ‚ù§Ô∏è</title>

  <!-- Social cards -->
  <meta name="description" content="A tiny romantic page with a cute bear, floating hearts, and one important question." />
  <meta property="og:title" content="I Love You ‚ù§Ô∏è" />
  <meta property="og:description" content="Tap yes‚Ä¶ and watch the magic ‚ú®" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="data:image/svg+xml;utf8,<?xml version='1.0'?><svg xmlns='http://www.w3.org/2000/svg' width='1200' height='630'><rect width='100%' height='100%' fill='%23ffd6e7'/><text x='50%' y='54%' dominant-baseline='middle' text-anchor='middle' font-family='Verdana' font-size='72' fill='%23b30059'>I Love You ‚ù§Ô∏è</text></svg>" />

  <!-- Tiny inline ‚Äúfavicon‚Äù -->
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 100 100%27%3E%3Ctext y=%27.9em%27 font-size=%2790%27%3E%F0%9F%92%96%3C/text%3E%3C/svg%3E">

  <style>
    :root{
      --pink:#ff6b9a; --rose:#ff4d79; --deep:#9a0f4c;
      --bg1:#ffe6f2; --bg2:#ffd6e7; --bg3:#ffcce0; --card:#ffffffc2;
      --shadow:0 20px 50px rgba(0,0,0,.18);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Poppins", Arial, sans-serif;
      color: var(--deep); display:flex; align-items:center; justify-content:center;
      overflow:hidden; background: radial-gradient(1200px 800px at 20% 10%, #fff0f6 0%, transparent 60%),
                              radial-gradient(900px 900px at 80% 90%, #ffe3ee 0%, transparent 60%),
                              linear-gradient(135deg,var(--bg1),var(--bg2),var(--bg3));
      background-size: 200% 200%;
      animation: bgmove 16s ease-in-out infinite;
    }
    @keyframes bgmove{
      0%{background-position:0% 50%}
      50%{background-position:100% 50%}
      100%{background-position:0% 50%}
    }
    @media (prefers-reduced-motion: reduce){
      body{animation:none}
      .floaty,.bounce,*{animation: none!important; transition:none!important}
    }

    /* hearts layer */
    .hearts{position:fixed; inset:0; pointer-events:none; z-index:0}

    .card{
      position:relative; z-index:1; width:min(720px,92vw);
      padding:28px 22px 30px; border-radius:24px;
      background: var(--card); backdrop-filter: blur(8px);
      box-shadow: var(--shadow); text-align:center; border:1px solid rgba(255,255,255,.7);
    }
    h1{ margin:6px 0 0; font-size: clamp(28px, 6vw, 44px); color: var(--deep);
        text-shadow: 0 2px 14px rgba(255,105,180,.30); }
    .sunshine{ font-size: clamp(18px, 3.6vw, 22px); color:#ff3e74; margin:6px 0 14px; font-weight:700 }
    .bear{ font-size: clamp(76px, 16vw, 120px); margin: 10px 0 4px; filter: drop-shadow(0 6px 12px rgba(0,0,0,.18)); }
    .bounce{ animation: bounce 2.2s ease-in-out infinite }
    @keyframes bounce{ 0%,100%{transform:translateY(0)} 50%{transform:translateY(-10px)} }

    h2{ font-weight:650; margin:10px 0 18px; font-size: clamp(18px, 4.2vw, 26px) }

    .buttons{ display:flex; gap:14px; justify-content:center; flex-wrap:wrap; margin-bottom:8px }
    button{
      appearance:none; border:none; padding:14px 22px; border-radius:14px;
      font-size: clamp(16px, 4vw, 18px); cursor:pointer; user-select:none;
      transition: transform .15s ease, box-shadow .2s ease, background .2s ease, opacity .2s ease;
      box-shadow: 0 10px 24px rgba(0,0,0,.12);
    }
    .btn-yes{ background: linear-gradient(135deg,#ff4d79,#ff6b9a); color:#fff }
    .btn-yes:hover{ transform: translateY(-2px) scale(1.03) }
    .btn-no{ background:#fff; color:var(--deep); border:1px solid rgba(0,0,0,.06); position:relative }
    .row{ display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin-top:10px }

    #message{ margin-top:22px; min-height:2.8em; font-size:clamp(20px,5vw,30px); font-weight:800; letter-spacing:.2px }
    .glow{ text-shadow: 0 0 20px rgba(255,105,180,.45) }

    /* top-right controls */
    .controls{
      position: fixed; right: 16px; top: 14px; z-index: 3; display:flex; gap:10px;
      filter: drop-shadow(0 6px 12px rgba(0,0,0,.18));
    }
    .ctrl{ background:#fff; border:1px solid rgba(0,0,0,.06); padding:10px 12px; border-radius:12px; cursor:pointer }
    .ctrl:active{ transform: scale(.98) }

    /* confetti canvas */
    #confetti{ position:fixed; inset:0; pointer-events:none; z-index:2 }

    .note{ margin-top:6px; font-size:12px; opacity:.7 }

    /* keep No button inside the card */
    .btn-wrap{ position: relative }
  </style>
</head>
<body>
  <!-- Controls -->
  <div class="controls" aria-label="Page controls">
    <button class="ctrl" id="musicBtn" aria-pressed="false" title="Play music">üéµ Play</button>
    <button class="ctrl" id="shareBtn" title="Share this page">üîó Share</button>
  </div>

  <!-- Confetti -->
  <canvas id="confetti" aria-hidden="true"></canvas>

  <!-- Floating hearts -->
  <div class="hearts" id="hearts" aria-hidden="true"></div>

  <!-- Main card -->
  <div class="card" id="card">
    <h1 class="glow">I Love You ‚ù§Ô∏è</h1>
    <div class="sunshine">My Sunshine üòä</div>
    <div class="bear bounce" aria-hidden="true">üß∏</div>

    <h2>Do you love <strong>Shahroz</strong>?</h2>

    <div class="buttons">
      <button class="btn-yes" id="yesBtn" aria-label="Yes, I love Shahroz">Yes üíñ</button>
      <span class="btn-wrap">
        <button class="btn-no" id="noBtn" aria-label="No">No üôà</button>
      </span>
    </div>

    <div id="message" role="status" aria-live="polite"></div>
    <div class="note">Tap ‚ÄúYes‚Äù for a surprise ‚ú®</div>
  </div>

  <!-- Soft music (no autoplay; user must tap Play) -->
  <audio id="bgm" preload="auto" loop>
    <!-- royalty-free short loop suggestion: replace with your own mp3/ogg if you want -->
    <!-- You can upload an mp3 to the repo and reference it here, e.g. src="soft-loop.mp3" -->
  </audio>

  <script>
    // ===== Floating hearts =====
    const heartsWrap = document.getElementById('hearts');
    let reduceMotion = matchMedia('(prefers-reduced-motion: reduce)').matches;
    function spawnHeart(){
      if(reduceMotion) return;
      const d = document.createElement('div');
      d.textContent = ['üíñ','üíï','üíó'][Math.floor(Math.random()*3)];
      Object.assign(d.style,{
        position:'absolute',
        left: Math.random()*100+'vw',
        bottom: '-10vh',
        fontSize: (18+Math.random()*28)+'px',
        opacity:.8,
        transform:'translateY(0)',
        transition:'transform 7s linear, opacity 7s linear'
      });
      heartsWrap.appendChild(d);
      requestAnimationFrame(()=>{
        d.style.transform='translateY(-120vh)';
        d.style.opacity=0;
      });
      setTimeout(()=>d.remove(),7000);
    }
    setInterval(spawnHeart, 340);

    // ===== Yes / No logic =====
    const msg   = document.getElementById('message');
    const yesBtn= document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const card  = document.getElementById('card');

    // Keep No button inside card & make it dodge cursor
    function moveNo(e){
      const rect = noBtn.getBoundingClientRect();
      const wrap = card.getBoundingClientRect();
      const mx = (e.touches?.[0]?.clientX ?? e.clientX);
      const my = (e.touches?.[0]?.clientY ?? e.clientY);
      const cx = rect.left + rect.width/2;
      const cy = rect.top  + rect.height/2;
      const dist = Math.hypot(cx - mx, cy - my);
      if(dist < 120 || e.type==='touchstart'){
        // random offset
        let dx = (Math.random()*2 - 1) * 220;
        let dy = (Math.random()*2 - 1) * 160;

        // proposed new position
        const cur = getComputedStyle(noBtn).transform;
        const m = cur !== 'none' ? new DOMMatrix(cur) : new DOMMatrix();
        let nx = m.m41 + dx, ny = m.m42 + dy;

        // clamp to card bounds so it never escapes
        const pad = 16;
        const minX = wrap.left - rect.left + pad - rect.width/2;
        const maxX = wrap.right - rect.right - pad + rect.width/2;
        const minY = wrap.top - rect.top + pad - rect.height/2;
        const maxY = wrap.bottom - rect.bottom - pad + rect.height/2;
        nx = Math.max(minX, Math.min(maxX, nx));
        ny = Math.max(minY, Math.min(maxY, ny));

        noBtn.style.transform = `translate(${nx}px, ${ny}px)`;
      }
    }
    noBtn.addEventListener('mousemove', moveNo);
    noBtn.addEventListener('touchstart', moveNo, {passive:true});

    // ===== Confetti =====
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');
    let W=0,H=0, pieces=[];
    function resize(){ W = canvas.width = innerWidth; H = canvas.height = innerHeight; }
    addEventListener('resize', resize); resize();

    function burstConfetti(){
      if(reduceMotion) return;
      for(let i=0;i<220;i++){
        pieces.push({
          x: Math.random()*W,
          y: -20 - Math.random()*H,
          s: 4+Math.random()*6,
          c: ['#ff6b9a','#ff4d79','#ffd1e1','#ff99bb'][Math.floor(Math.random()*4)],
          a: Math.random()*Math.PI*2,
          v: 1.2+Math.random()*2.4,
          w: 0.02+Math.random()*0.06
        });
      }
      let t=0;
      const loop=()=>{
        ctx.clearRect(0,0,W,H);
        pieces.forEach(p=>{
          p.y += p.v;
          p.x += Math.sin(p.a + t*p.w);
          t += 0.001;
          ctx.save(); ctx.fillStyle = p.c; ctx.translate(p.x,p.y); ctx.rotate(p.a);
          ctx.fillRect(-p.s/2,-p.s/2,p.s,p.s); ctx.restore();
        });
        pieces = pieces.filter(p=>p.y < H+40);
        if(pieces.length) requestAnimationFrame(loop);
      };
      loop();
    }

    yesBtn.addEventListener('click', ()=>{
      msg.textContent = 'üíû SHAHROZ APKA HUA üíû';
      msg.classList.add('glow');
      yesBtn.disabled = noBtn.disabled = true;
      burstConfetti();
    });

    noBtn.addEventListener('click', ()=>{
      msg.textContent = 'üòú NA KR K B SHAHROZ APKA HUA üòú';
      msg.classList.add('glow');
    });

    // ===== Music toggle (user-initiated) =====
    const musicBtn = document.getElementById('musicBtn');
    const bgm = document.getElementById('bgm');
    // Tip: add your own file to the repo and set: bgm.src = 'soft-loop.mp3';
    musicBtn.addEventListener('click', async ()=>{
      try{
        if(!bgm.src){ alert('Tip: upload a soft MP3 (e.g. soft-loop.mp3) and set bgm.src in the code.'); return; }
        if(bgm.paused){ await bgm.play(); musicBtn.textContent='üéµ Pause'; musicBtn.setAttribute('aria-pressed','true'); }
        else{ bgm.pause(); musicBtn.textContent='üéµ Play'; musicBtn.setAttribute('aria-pressed','false'); }
      }catch(e){ console.warn(e); }
    });

    // ===== Share button =====
    const shareBtn = document.getElementById('shareBtn');
    shareBtn.addEventListener('click', async ()=>{
      const data = { title:'I Love You ‚ù§Ô∏è', text:'Open this‚Ä¶ I made it for you üíñ', url: location.href };
      if(navigator.share){ try{ await navigator.share(data);}catch(e){} }
      else{
        navigator.clipboard?.writeText(location.href);
        shareBtn.textContent = '‚úÖ Copied';
        setTimeout(()=>shareBtn.textContent='üîó Share', 1600);
      }
    });
  </script>
</body>
</html>
